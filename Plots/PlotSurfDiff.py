import numpy as np
import matplotlib.pyplot as plt
from matplotlib import cm
from mpl_toolkits.mplot3d import Axes3D

strikes = [-0.02, -0.01, 0.00, 0.01, 0.02, 0.03, 0.04, 0.05, 0.06, 0.07]
maturity = np.arange(0, 31)
surf = [
[-0.00307146992906883, -0.00183776714899891, -0.000597407848384947, 0.000675354451059641, 0.00203772025093834, 0.00359922118704217, 0.00248540956741328, 0.000662027450442824, -0.00098669506292217, -0.00154455233235919],
[0.000130528544483463, 3.25752757966667E-05, -0.000216536862674317, 0.000376814133950052, -0.000120503381132144, 2.87570932268021E-05, 0.000174972077803748, -9.15160235398053E-05, -0.000349580445071506, 0.000309136148681284],
[-4.32281239016175E-05, -4.93066889407923E-06, -0.00020455097640721, 0.000382752603740183, -0.000187566535634884, 0.000358395931086664, 3.12746729972981E-05, 0.000518779149876077, 0.000256839748587621, -4.93577613312063E-06],
[0.000189249989606392, -0.000156155800366153, 0.000358943363319687, -0.000267878707682655, -1.26656690476734E-05, 0.000290180855749556, -9.07791287099967E-05, -0.000129856369958381, 0.000323766272441794, -0.000124203572057786],
[-0.000329251878583646, -0.000546297961300755, 5.48154405531145E-05, 0.000475705507088732, -0.000275839444204715, -0.000138869725888016, 0.000239841554783703, 0.00085337754466993, -0.00018086605227912, 9.29289222270924E-05],
[-4.18985988626802E-05, 0.000453408990038422, -0.000191826551253167, 1.22550959121975E-05, 6.37163277296196E-05, 3.0046506435677E-06, 8.68213435108872E-05, 7.82940743582553E-05, -0.00012586672665546, 9.21743205935174E-05],
[-0.000249000936809081, -0.000623032418026657, -0.000165389943959642, 0.000118879229858461, 0.000232249864858175, 0.000213823807738357, 0.000288303340517715, 0.00101960744804651, 0.000643799734341234, 0.000739512968603903],
[-0.000555262420625889, -2.50394181035216E-05, 0.000349973977661573, -0.000438638296640176, -0.000395475098710546, 0.000509778702970656, 0.000486943222699814, 0.00111028065580471, 0.000718837488849301, 0.000812908177265675],
[3.13810360123498E-05, 0.000452885497087899, -0.000276002598341998, -0.000173528012128679, -0.000259028396253053, 0.000458460740758955, 4.29113965884492E-05, 0.000137541262047083, -0.000299409746350073, 0.000175146527029907],
[-1.03600453137814E-06, 0.000393195392376873, -0.000368474781136011, -0.000305210673231707, 0.000561508587176976, 0.000219797992184322, -0.000266669638607803, -0.000181391495061287, 0.000381994223392669, -0.000172383062993851],
[-0.000428231307690222, -0.000735568650928727, -0.000196389758439025, 0.000177256643590105, 0.000374413061084933, 0.00139802576792002, 0.00133302406474348, 0.00288402584206963, 0.00318952240004989, 0.00224961026779478],
[0.000250465441792851, -0.000247688744384571, 6.47082809241348E-05, 0.000171319522939223, 4.90852448863516E-05, -0.000328872417705177, 3.2289752686647E-05, 0.000355425514016572, -0.000193907206112055, 7.21365638343754E-05],
[-0.000175416247707588, 0.000145564937479449, 0.000315582802958403, 0.000308924147283354, 9.3422282619611E-05, -0.000368365965818108, -9.93571188937295E-05, 7.40860718526637E-05, 0.000127305246407226, -5.58548244125774E-05],
[-0.000182594395647682, 0.000137130361407348, 0.000306815639652243, 0.000300641481510648, 8.65096741918328E-05, -0.000373022405007188, -0.000100559335361877, 7.47597667276681E-05, 0.000120724000241119, -5.51787484344632E-05],
[-0.000264624666457589, 0.000134289385386392, 0.000356373477715825, 0.000378501648269823, 0.000168665321097584, -0.000315849310917778, -0.000117662474129247, -0.000160800887632491, 0.00025580873984115, -9.58394273291655E-05],
[-0.000259811101213217, 8.91078359733372E-05, 0.000294065596488709, 0.000325100707088376, 0.000144906141708027, -0.000294810821778388, -4.33211798904626E-05, -4.63470084353171E-05, 9.03884657561665E-05, -2.22886917286905E-05],
[-0.000922848340603903, -0.000402457301612015, -4.1514252147476E-05, 0.000136204679348384, 9.80582482055931E-05, -0.000198185465619609, 0.000206681163356759, 0.0013851260174207, 0.00162151895931394, 0.000413514972213178],
[0.000444885803134142, -0.000222538787615273, -5.02208166745996E-05, -6.56261570897085E-05, -0.000306803120257562, 0.000174063293428887, 0.000313438089789689, 0.000111656981127684, -0.000112420956786485, 3.36379244991712E-05],
[-0.00634333679649863, -0.00491863936560562, -0.00386181872391839, -0.00314187889541365, -0.0027573182126171, -0.0027319790362063, -0.00209799602757342, -0.00174579461230122, -0.0011393055730865, -0.00110815534080075],
[-0.002347540694149, -0.00202485266038055, -0.00102373133983562, -0.000320467249429683, 8.68846726205172E-05, 0.00118990681209095, 0.00199596836120346, 0.0027190206916008, 0.00385739393670739, 0.00319666311159189],
[0.000280688100854527, -0.000318216951383093, -9.87539048149244E-05, -8.54674928897001E-05, -0.000312040682615179, 0.000176215195999363, 0.000340668137161437, 0.000325465368847627, 0.000358584247905851, 0.000329539100563922],
[0.000511804926807184, -8.3923112212031E-05, 0.000152754556596489, 0.00019735441944873, 1.8129023072383E-05, 0.000576984266432934, 0.000857421901313042, 0.0011029270628036, 0.0014890510666442, 0.00134612422399272],
[0.000327590695329838, -0.000280419185533322, -7.04943767089808E-05, -6.7525473075071E-05, -0.000306217321106916, 0.000166608377493216, 0.000308876089661021, 0.000257549023059883, 0.000235267129744463, 0.000150160577048843],
[0.0005840123380162, -1.43707867905282E-05, 0.000218728892636508, 0.000258536313527881, 7.25493803185803E-05, 0.000620938731721539, 0.000882074769772749, 0.00107481870987427, 0.00133663376311345, 0.00112337672550872],
[0.000285186649079609, -0.000313499340389795, -9.22074792779962E-05, -7.56143342582616E-05, -0.000297332658158088, 0.000197822375428036, 0.000372951298196367, 0.000380330434424273, 0.000442130023348558, 0.000382093477472839],
[-8.11282835943977E-05, 0.000125919902299612, 0.000186018562481564, 6.81966282872204E-05, -0.000268185914195675, 0.000120943342309818, 0.000163160510948883, -0.000182107416838752, 5.94950352184702E-05, -6.75935077884202E-06],
[0.000438895168765413, -0.000240261641752983, -7.91237240677298E-05, -0.000103439056521513, -0.000350800370641703, 0.000127458275700418, 0.000266621605619015, 4.1577032895812E-05, 0.00043390566241959, 0.000325331271081815],
[-8.14879071973917E-05, 0.000120930776406555, 0.000178974425839085, 6.39650108317305E-05, -0.000264503758199003, 0.000138834814678274, 0.000202967500356588, -0.000118838179470622, -4.87810211960427E-06, 2.18650061100667E-05],
[-0.00778775946443507, -0.00628586621304812, -0.00521374234448668, -0.00452456826985966, -0.00420844817233472, -0.00328780373539282, -0.00280798550352983, -0.0027605764809483, -0.00167759586011917, -8.78889615645549E-05],
[-5.47168923601821E-05, 0.000149538993855274, 0.000204935732837967, 7.9392914545319E-05, -0.000268999905445218, 9.99742246296162E-05, 0.000102655531552635, -0.000347763745026694, 0.0003243890657053, -0.00013035000486147],
]
XX, YY = np.meshgrid(strikes, maturity[1:])
fig = plt.figure()
ax = fig.gca(projection='3d')

surf = ax.plot_surface(XX, YY, surf, cmap=cm.coolwarm, linewidth=0.1, rstride=1, cstride=1, antialiased=False)

plt.xlabel('strikes')
plt.ylabel('maturity')
plt.show()